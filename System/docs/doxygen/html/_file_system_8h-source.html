<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>System: FileSystem.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>FileSystem.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef _FILESYSTEM_H_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define _FILESYSTEM_H_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#include "Singleton.h"</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="keyword">using</span> std::string;
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="keyword">class </span>TextFile;
<a name="l00013"></a>00013 <span class="keyword">class </span>BinaryFile;
<a name="l00014"></a>00014 <span class="keyword">class </span><a class="code" href="class_file.html" title="Represents a file and allows for easy manipulation of the filesystem.">File</a>;
<a name="l00015"></a>00015 
<a name="l00045"></a><a class="code" href="class_file_system.html">00045</a> <span class="keyword">class </span><a class="code" href="class_file_system.html" title="a class giving the user access to files on the computer.">FileSystem</a> : <span class="keyword">public</span> <a class="code" href="class_singleton.html" title="A templated class meant to aid in the creation of singltons.">Singleton</a>&lt;FileSystem&gt; {
<a name="l00046"></a>00046 <span class="keyword">public</span>:
<a name="l00052"></a>00052     <span class="keyword">static</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_file_system.html#f300b21adbf76bf015b4881a5a5cb6b9">AddPathDecorations</a>(<span class="keywordtype">string</span> &amp;path, <span class="keywordtype">bool</span> isDir);
<a name="l00053"></a>00053 
<a name="l00058"></a>00058     <span class="keyword">static</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_file_system.html#395a4a91826e3780c27b44fa27f1c740">ExtractDir</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path, <span class="keywordtype">string</span> &amp;result);
<a name="l00059"></a>00059 
<a name="l00064"></a>00064     <span class="keyword">static</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_file_system.html#1e25838b894c797e8475ca1bf5f95589">ExtractExtension</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;filename, <span class="keywordtype">string</span> &amp;result);
<a name="l00065"></a>00065 
<a name="l00070"></a>00070     <span class="keyword">static</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_file_system.html#6acf98adb722cf04c5e341500d377445">ExtractFilename</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path, <span class="keywordtype">string</span> &amp;result);
<a name="l00071"></a>00071 
<a name="l00075"></a>00075     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_file_system.html#c4f45fcfcb246804d4d842bb5581d732">Exists</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;filename);
<a name="l00076"></a>00076 
<a name="l00080"></a>00080     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="class_file_system.html#13068dea3771531fe2e58cc009af24b0">Length</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;filename);
<a name="l00081"></a>00081 
<a name="l00085"></a>00085     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_file_system.html#cc2ca4a6f67e6122c0484993f2d53f87">HasLeadingDecorations</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path);
<a name="l00086"></a>00086 
<a name="l00090"></a>00090     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_file_system.html#a31ed1cb38be6c391370d78f516e0659">Touch</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path);
<a name="l00091"></a>00091 
<a name="l00095"></a>00095     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_file_system.html#1c07436436be52398811e6220e986d35">Delete</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path);
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 <span class="keyword">public</span>:
<a name="l00099"></a><a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22b">00099</a>     <span class="keyword">enum</span> <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22b">SearchOrder</a> {
<a name="l00100"></a><a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bcbe3b206414b325e5ecb64898b425984">00100</a>         <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bcbe3b206414b325e5ecb64898b425984">CurrentDir_ResourceLocs</a>,    
<a name="l00101"></a><a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bb566b4c991b82f03db050be4b6e511be">00101</a>         <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bb566b4c991b82f03db050be4b6e511be">ResourceLocs_CurrentDir</a>,    
<a name="l00102"></a><a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22baf8ee28c5682255822471fdf96885335">00102</a>         <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22baf8ee28c5682255822471fdf96885335">ResourceLocs</a>,               
<a name="l00103"></a><a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bdcb97a8a8944ce4e3b0d69a81d86573f">00103</a>         <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bdcb97a8a8944ce4e3b0d69a81d86573f">CurrentDir</a>                  
<a name="l00104"></a>00104     };
<a name="l00105"></a>00105 
<a name="l00107"></a><a class="code" href="class_file_system.html#b4c1425b2b2a3c3a7a60f55b1cc9f425">00107</a>     <span class="keyword">enum</span> <a class="code" href="class_file_system.html#b4c1425b2b2a3c3a7a60f55b1cc9f425">OpenFlags</a> {
<a name="l00108"></a><a class="code" href="class_file_system.html#b4c1425b2b2a3c3a7a60f55b1cc9f4257c4ac4c626759a74278e4244b64d3b00">00108</a>         <a class="code" href="class_file_system.html#b4c1425b2b2a3c3a7a60f55b1cc9f4257c4ac4c626759a74278e4244b64d3b00">OpenNow</a> = 1 &lt;&lt; 0,    
<a name="l00109"></a><a class="code" href="class_file_system.html#b4c1425b2b2a3c3a7a60f55b1cc9f42598d958de9f827bf5e66c76f73d879a54">00109</a>         <a class="code" href="class_file_system.html#b4c1425b2b2a3c3a7a60f55b1cc9f42598d958de9f827bf5e66c76f73d879a54">Append</a>  = 1 &lt;&lt; 1,    
<a name="l00110"></a>00110         Write   = 1 &lt;&lt; 2,
<a name="l00111"></a>00111         Read    = 1 &lt;&lt; 3,
<a name="l00112"></a>00112         ReadWrite = Write | Read
<a name="l00113"></a>00113     };
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     <span class="keyword">typedef</span> <span class="keywordtype">int</span> OpenMode;
<a name="l00116"></a>00116 
<a name="l00131"></a>00131     TextFile*  <a class="code" href="class_file_system.html#92f63a1a171c99ee1437d776c225901f">openTextFile</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name, OpenMode openFlags = ReadWrite,
<a name="l00132"></a>00132                              <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22b">SearchOrder</a> order = <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bcbe3b206414b325e5ecb64898b425984">CurrentDir_ResourceLocs</a>);
<a name="l00133"></a>00133 
<a name="l00148"></a>00148     BinaryFile* <a class="code" href="class_file_system.html#4ee9a075ba35ee26de7d87ee9f48cd16">openBinaryFile</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;name, OpenMode openFlags = ReadWrite,
<a name="l00149"></a>00149                               <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22b">SearchOrder</a> order = <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22bcbe3b206414b325e5ecb64898b425984">CurrentDir_ResourceLocs</a>);
<a name="l00150"></a>00150 
<a name="l00157"></a>00157     <span class="keywordtype">void</span> <a class="code" href="class_file_system.html#5b185c4cb45dafb9d4d54babae89aea0">setCurrentDirectory</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;dir);
<a name="l00158"></a>00158 
<a name="l00162"></a>00162     <span class="keywordtype">void</span> <a class="code" href="class_file_system.html#56124fbbc5336d5e7dbc9dcb73edb07a">addResourceLocation</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;dir);
<a name="l00163"></a>00163 
<a name="l00167"></a>00167     <span class="keywordtype">void</span> <a class="code" href="class_file_system.html#2091fb3ed01d2b4d6a3aaebcba892c77">removeResourceLocation</a>(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;dir);
<a name="l00168"></a>00168 
<a name="l00170"></a>00170     <span class="keywordtype">void</span> <a class="code" href="class_file_system.html#2786111d4cf3a1bde578deb1de095a82">clearResourceLocations</a>();
<a name="l00171"></a>00171 
<a name="l00173"></a>00173     <span class="keywordtype">void</span> <a class="code" href="class_file_system.html#c559ad872b7d39e1538a64a3e3a608bb">clearCurrentDirectory</a>();
<a name="l00174"></a>00174 
<a name="l00177"></a>00177     <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; <a class="code" href="class_file_system.html#4ab6eb6ef53a7a97356604cfba9ede98">currentDirectory</a>();
<a name="l00178"></a>00178 
<a name="l00181"></a>00181     <span class="keyword">const</span> std::list&lt;string&gt;&amp; <a class="code" href="class_file_system.html#d02734956ff02f4a30ee864bb2328682">resourceLocations</a>();
<a name="l00182"></a>00182 
<a name="l00183"></a>00183 <span class="keyword">protected</span>:
<a name="l00184"></a>00184     <span class="comment">// These are protected to match the singleton pattern.</span>
<a name="l00185"></a>00185     <a class="code" href="class_file_system.html" title="a class giving the user access to files on the computer.">FileSystem</a>();
<a name="l00186"></a>00186     <span class="keyword">virtual</span> ~<a class="code" href="class_file_system.html" title="a class giving the user access to files on the computer.">FileSystem</a>();
<a name="l00187"></a>00187 
<a name="l00188"></a>00188     <span class="comment">// The singleton must be able to call the protected contructors (only children can</span>
<a name="l00189"></a>00189     <span class="comment">// make calls to protected functions, parents cannot).</span>
<a name="l00190"></a>00190     <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_singleton.html" title="A templated class meant to aid in the creation of singltons.">Singleton</a>;    
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 <span class="keyword">private</span>:
<a name="l00204"></a>00204     <span class="keywordtype">bool</span> getFileName(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;given, <span class="keywordtype">string</span> &amp;dir, <span class="keywordtype">string</span> &amp;filename, <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22b">SearchOrder</a> order);
<a name="l00205"></a>00205 
<a name="l00211"></a>00211     <span class="keywordtype">string</span>&amp; prependCurrentDir(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;path, <span class="keywordtype">string</span> &amp;result);
<a name="l00212"></a>00212 
<a name="l00220"></a>00220     <span class="keywordtype">bool</span> checkCurrentDir(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;given, <span class="keywordtype">string</span> &amp;path, <span class="keywordtype">string</span> &amp;filename);
<a name="l00221"></a>00221 
<a name="l00229"></a>00229     <span class="keywordtype">bool</span> checkResourceLocs(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;given, <span class="keywordtype">string</span> &amp;path, <span class="keywordtype">string</span> &amp;filename);
<a name="l00230"></a>00230 
<a name="l00238"></a>00238     <a class="code" href="class_file.html" title="Represents a file and allows for easy manipulation of the filesystem.">File</a>* openFile(<span class="keyword">const</span> <span class="keywordtype">string</span> &amp;given, OpenMode flags, <a class="code" href="class_file_system.html#c0cb4dd5e71810da6ea963aa57a0f22b">SearchOrder</a> order, <span class="keywordtype">bool</span> binary);
<a name="l00239"></a>00239 
<a name="l00240"></a>00240     std::list&lt;string&gt; _locations; 
<a name="l00241"></a>00241     <span class="keywordtype">string</span> _currentDir;           
<a name="l00243"></a>00243 <span class="keyword">public</span>:
<a name="l00244"></a>00244     <span class="keyword">static</span> <span class="keywordtype">void</span> Test();
<a name="l00245"></a>00245     <span class="keyword">static</span> <span class="keywordtype">void</span> TestExtractDir();
<a name="l00246"></a>00246     <span class="keyword">static</span> <span class="keywordtype">void</span> TestExtractExtension();
<a name="l00247"></a>00247     <span class="keyword">static</span> <span class="keywordtype">void</span> TestExtractFilename();
<a name="l00248"></a>00248     <span class="keyword">static</span> <span class="keywordtype">void</span> TestHasLeadingDecorations();
<a name="l00249"></a>00249     <span class="keyword">static</span> <span class="keywordtype">void</span> TestAdjustCurrentDir();
<a name="l00250"></a>00250     <span class="keyword">static</span> <span class="keywordtype">void</span> TestAdjustResourceLocs();
<a name="l00251"></a>00251     <span class="keyword">static</span> <span class="keywordtype">void</span> TestAddPathDecorations();
<a name="l00252"></a>00252     <span class="keyword">static</span> <span class="keywordtype">void</span> TestFileNames();
<a name="l00253"></a>00253     <span class="keyword">static</span> <span class="keywordtype">void</span> TestExists();
<a name="l00254"></a>00254     <span class="keyword">static</span> <span class="keywordtype">void</span> TestLength();
<a name="l00255"></a>00255     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_file_system.html#d1c48fc9e663b512fc59ab9ea962c0d2">TestTouchAndDelete</a>();
<a name="l00256"></a>00256 };
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Fri Sep 28 13:17:41 2007 for System by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
